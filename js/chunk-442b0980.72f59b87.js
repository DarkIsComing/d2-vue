(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-442b0980"],{"0c77":function(t,s,e){"use strict";var i=e("c419"),n=e.n(i);n.a},"2f48":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("d2-container",[e("div",{attrs:{id:"msg_manage"}},[e("div",{staticClass:"msg_box"},[e("div",{staticClass:"msg_nav_search"},[e("div",{staticClass:"msg_nav_search_input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"seachMsg",attrs:{type:"text",placeholder:"搜索用户名/关键字"},domProps:{value:t.keyword},on:{blur:t.search,input:function(s){s.target.composing||(t.keyword=s.target.value)}}})])]),e("div",{staticClass:"msg_list"},t._l(t.msgList,(function(s,i){return e("div",{key:i,staticClass:"msg_item",on:{click:function(e){return t.select(i,s.to_id)}}},[e("div",{staticClass:"msg_item_top"},[e("div",{staticClass:"msg_top_left"},[e("div",{staticClass:"msg_user_head"},[e("img",{attrs:{src:t.getImgUrl(s.user_image),height:"50",width:"50"}})]),e("div",{staticClass:"msg_user_name"},[t._v(t._s(s.use_name))])])]),e("div",{staticClass:"msg_item_content"},[t._v(" "+t._s(s.last_chat)+" ")]),e("div",{staticClass:"msg_item_bottom"},[e("div",{staticClass:"msg_item_time"},[t._v(t._s(s.time))])]),e("div",{staticClass:"msg_del"},[t._v("删除")])])})),0)]),e("div",{staticClass:"msg_return"},[e("div",{staticClass:"msg_return_top"},[e("div",{staticClass:"return_title"},[t._v(t._s(t.title))])]),e("el-divider"),e("div",{staticClass:"main"},[e("div",{staticClass:"talkshow"},t._l(t.list,(function(s){return e("div",{key:s.form_id,class:s.form_id==t.userId?"atalk":"btalk"},[t.form_id===t.userId?e("img",{attrs:{src:t.getImgUrl(s.form_avatar),height:"50",width:"50"}}):e("img",{attrs:{src:t.getImgUrl(s.to_avatar),height:"50",width:"50"}}),1===s.type?e("span",[t._v(t._s(s.content))]):0===s.type?e("span",[e("img",{attrs:{src:t.getImgUrl(s.content),height:"50",width:"50"}})]):t._e()])})),0)])],1)])])},n=[],a=e("d800"),c={data:function(){return{list:[],keyword:"",title:"",userId:"",toId:"",queryOption:"",status:0,user_image:"",use_name:"",last_chat:"",time:"",msgList:[],sendList:[],menuId:0}},methods:{search:function(){var t=this;Object(a["b"])({id:this.$route.query.id,item:this.keyword}).then((function(s){console.log(s,"success"),t.msgList=s.data})).catch((function(t){return console.log(t,"error")}))},getImgUrl:function(t){return"http://192.168.1.143:8000"+t},select:function(t,s){var e=this;console.log(t),Object(a["c"])({id:this.userId,to_id:s}).then((function(t){console.log(t,"success"),e.list=t.data,e.title=t.data[0].to_name})).catch((function(t){return console.log(t,"error")}))},getChats:function(){Object(a["d"])({start_time:"",end_time:"",item:"",page:1,size:20}).then((function(t){console.log(t,"success")})).catch((function(t){return console.log(t,"error")}))},getMsgs:function(){Object(a["c"])({id:this.userId,to_id:0}).then((function(t){console.log(t,"success")})).catch((function(t){return console.log(t,"error")}))}},mounted:function(){var t=this;Object(a["b"])({id:this.$route.query.id,item:""}).then((function(s){t.userId=t.$route.query.id,console.log(s,"success"),t.msgList=s.data})).catch((function(t){return console.log(t,"error")}))}},o=c,r=(e("0c77"),e("2877")),u=function(t){t.options.__source="src/views/pages/chat/customer/detail.vue"},l=u,d=Object(r["a"])(o,i,n,!1,null,"0f755e97",null);"function"===typeof l&&l(d);s["default"]=d.exports},c419:function(t,s,e){},d800:function(t,s,e){"use strict";e.d(s,"d",(function(){return n})),e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return c})),e.d(s,"a",(function(){return o}));var i=e("9bd2");function n(t){return console.log("传入的参数",t),Object(i["a"])({url:"/admin/chat/",method:"get",params:t})}function a(t){return console.log("传入的参数",t),Object(i["a"])({url:"/admin/chat/detail/",method:"get",params:t})}function c(t){return console.log("传入的参数",t),Object(i["a"])({url:"/admin/chat/detail/",method:"post",data:t})}function o(t){return console.log("传入的参数",t),Object(i["a"])({url:"/admin/chat/",method:"delete",data:t})}}}]);