(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d003db40"],{"3f34":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("d2-container",[n("template",{slot:"header"},[n("el-autocomplete",{attrs:{"fetch-suggestions":t.querySearchAsync,placeholder:"请输入用户名进行新增"},on:{select:t.handleSelect},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}}),n("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{slot:"header"},on:{click:t.addRow},slot:"header"},[t._v("确定")])],1),n("d2-crud",{ref:"d2Crud",attrs:{columns:t.columns,data:t.data,loading:t.loading,"loading-options":t.loadingOptions,"selection-row":"",rowHandle:t.rowHandle,pagination:t.pagination,options:t.options},on:{"selection-change":t.handleSelectionChange,"current-change":t.handleCurrentChange,"row-remove":t.handleRowRemove,"custom-emit-1":t.handleCustomEvent,"pagination-current-change":t.paginationCurrentChange}}),n("myImg")],2)},a=[],i=n("5302"),c={data:function(){return{input:"",item:"",userId:"",columns:[{title:"管理员名称",key:"use_name"},{title:"登录账户",key:"username"}],data:[],loading:!1,loadingOptions:{text:"拼命加载中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.8)"},pagination:{currentPage:1,pageSize:10,total:0},options:{strip:!0,height:"650",highlightCurrentRow:!0,defaultSort:{prop:"date",order:"descending"}},rowHandle:{custom:[{text:"查看权限",type:"primary",size:"small",emit:"custom-emit-1"}],remove:{icon:"el-icon-delete",size:"small",fixed:"right",confirm:!0}}}},methods:{addRow:function(){var t=this;Object(i["e"])({id:this.userId}).then((function(e){console.log(e,"success"),Object(i["b"])({start_time:"",end_time:"",item:"",page:1,size:20}).then((function(e){t.data=e.data,t.pagination.total=e.count,console.log(e,"success")})).catch((function(t){return console.log(t,"error")}))})).catch((function(e){console.log("err",e),t.loading=!1}))},querySearchAsync:function(t,e){var n=this,o=[];Object(i["d"])({item:t}).then((function(t){console.log(t,"success"),o=t.data,e(o),n.loading=!1})).catch((function(t){console.log("err",t),n.loading=!1}))},handleSelect:function(t){this.userId=t.id,console.log("item:",t,this.item)},handleSelectionChange:function(t){console.log("选择",t)},paginationCurrentChange:function(t){this.pagination.currentPage=t,this.fetchData(t)},fetchData:function(t){var e=this;console.log("当前页:",t),this.loading=!0,Object(i["b"])({start_time:"",end_time:"",item:"",page:t,size:20}).then((function(t){e.data=t.data,e.pagination.total=t.count,e.loading=!1})).catch((function(t){console.log("err",t),e.loading=!1}))},handleRowRemove:function(t,e){var n=this,o=t.index,a=t.row;setTimeout((function(){console.log(o),console.log(a),Object(i["a"])({id:a.id}).then((function(t){n.pagination.total=n.pagination.total-1,console.log(t,"success")})).catch((function(t){return console.log(t,"error")})),n.$message({message:"删除成功",type:"success"}),e()}),300)}},mounted:function(){var t=this;Object(i["b"])({start_time:"",end_time:"",item:"",page:1,size:20}).then((function(e){t.data=e.data,t.pagination.total=e.count,console.log(e,"success")})).catch((function(t){return console.log(t,"error")}))}},r=c,l=(n("fe0d"),n("2877")),s=function(t){t.options.__source="src/views/pages/platform/manager/index.vue"},u=s,d=Object(l["a"])(r,o,a,!1,null,null,null);"function"===typeof u&&u(d);e["default"]=d.exports},5302:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return c})),n.d(e,"e",(function(){return r})),n.d(e,"d",(function(){return l}));var o=n("9bd2");function a(t){return console.log("传入的参数",t),Object(o["a"])({url:"/admin/platform/",method:"get",params:t})}function i(t){return console.log("传入的参数",t),Object(o["a"])({url:"/admin/manager/",method:"get",params:t})}function c(t){return console.log("传入的参数",t),Object(o["a"])({url:"/admin/manager/",method:"delete",data:t})}function r(t){return console.log("传入的参数",t),Object(o["a"])({url:"/admin/manager/",method:"put",data:t})}function l(t){return console.log("传入的参数",t),Object(o["a"])({url:"/admin/notice/user",method:"get",params:t})}},b292:function(t,e,n){},fe0d:function(t,e,n){"use strict";var o=n("b292"),a=n.n(o);a.a}}]);