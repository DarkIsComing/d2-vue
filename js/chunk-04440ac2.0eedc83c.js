(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04440ac2"],{"2f937":function(t,e,n){"use strict";var o=n("ef91"),a=n.n(o);a.a},5192:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("d2-container",[n("template",{slot:"header"},[n("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{slot:"header"},on:{click:t.addRow},slot:"header"},[t._v("新增")]),n("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{slot:"header"},on:{click:t.exportExcel},slot:"header"},[t._v("导出")]),n("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{slot:"header"},on:{click:t.stop},slot:"header"},[t._v("删除")]),n("span",{staticClass:"demonstration",staticStyle:{"margin-bottom":"5px"},attrs:{slot:"header"},slot:"header"},[t._v("敏感字内容")]),n("el-input",{staticStyle:{"margin-bottom":"5px"},attrs:{slot:"header",placeholder:"请输入敏感字内容"},slot:"header",model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),n("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{slot:"header",type:"primary"},on:{click:t.query},slot:"header"},[t._v("查询")]),n("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{slot:"header",type:"info"},on:{click:t.reset},slot:"header"},[t._v("重置")])],1),n("d2-crud",{ref:"d2Crud",attrs:{columns:t.columns,data:t.data,"add-title":"新增敏感词","add-template":t.addTemplate,"form-options":t.formOptions,loading:t.loading,"loading-options":t.loadingOptions,"selection-row":"",rowHandle:t.rowHandle,pagination:t.pagination,options:t.options},on:{"dialog-open":t.handleDialogOpen,"row-add":t.handleRowAdd,"dialog-cancel":t.handleDialogCancel,"selection-change":t.handleSelectionChange,"current-change":t.handleCurrentChange,"row-remove":t.handleRowRemove,"custom-emit-1":t.viewDetail,"pagination-current-change":t.paginationCurrentChange}})],2)},a=[],i=(n("d81d"),n("5ded"),n("b0c0"),n("9bd2"));function s(t){return console.log("传入的参数",t),Object(i["a"])({url:"/admin/sensitiveword/",method:"get",params:t})}function c(t){return console.log("传入的参数",t),Object(i["a"])({url:"/admin/sensitiveword/",method:"delete",data:t})}function r(t){return console.log("传入的参数",t),Object(i["a"])({url:"/admin/sensitiveword/",method:"post",data:t})}var l={data:function(){return{input:"",columns:[{title:"敏感字内容",key:"name",width:"180"}],outCoulum:[{label:"发布时间",prop:"create_time"},{label:"关键字内容",prop:"name"},{label:"关键字资源数",prop:"count"}],data:[],loading:!1,loadingOptions:{text:"拼命加载中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.8)"},pagination:{currentPage:1,pageSize:20,total:0},options:{strip:!0,height:"650",highlightCurrentRow:!0,defaultSort:{prop:"date",order:"descending"}},rowHandle:{remove:{icon:"el-icon-delete",size:"small",fixed:"right",confirm:!0}},addTemplate:{name:{title:"敏感词",value:""}},formOptions:{labelWidth:"80px",labelPosition:"center",saveLoading:!1},value1:"",value2:"",sels:[]}},methods:{stop:function(){var t=this,e=this.sels.map((function(t){return t.id}));this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then((function(){var n={id:e};c(n).then((function(e){console.log(e,"success"),t.$message({message:"删除成功",type:"success"}),s({item:"",page:t.pagination.currentPage,size:20}).then((function(e){t.data=e.data,t.pagination.total=e.count,console.log(e,"success")})).catch((function(t){return console.log(t,"error")}))}))})).catch((function(){}))},handleSelectionChange:function(t){this.sels=t,console.log("选择",t)},paginationCurrentChange:function(t){this.pagination.currentPage=t,this.fetchData(t)},fetchData:function(t){var e=this;this.loading=!0,s({item:this.input,page:t,size:20}).then((function(n){console.log("分页返回的数据",t,n.data),e.data=n.data,e.pagination.total=n.count,e.loading=!1})).catch((function(t){console.log("err",t),e.loading=!1}))},handleRowRemove:function(t,e){var n=this,o=t.index,a=t.row;setTimeout((function(){console.log(o),console.log(a),c({id:Array.of(a.id)}).then((function(t){n.pagination.total=n.pagination.total-1,console.log(t,"success")})).catch((function(t){return console.log(t,"error")})),n.$message({message:"删除成功",type:"success"}),e()}),300)},exportExcel:function(){var t=this;console.log(this.columns,this.data),this.$export.excel({columns:this.outCoulum,data:this.data,header:"敏感字列表"}).then((function(){console.log("数据:",t.$refs.d2Crud.d2CrudData),t.$message("导出表格成功")}))},query:function(t){var e=this;s({item:this.input,page:1,size:20}).then((function(t){e.data=t.data,e.pagination.total=t.count,console.log(t,"success")})).catch((function(t){return console.log(t,"error")}))},viewDetail:function(t){t.index;var e=t.row;this.$router.push({name:"keywordDetail",query:{id:e.id,type_status:0}})},reset:function(){var t=this;this.input="",s({item:this.input,page:1,size:20}).then((function(e){t.data=e.data,t.pagination.total=e.count,console.log(e,"success")})).catch((function(t){return console.log(t,"error")}))},addRow:function(){this.$refs.d2Crud.showDialog({mode:"add"})},handleDialogOpen:function(t){var e=t.mode;this.$message({message:"打开模态框，模式为："+e,type:"success"})},handleRowAdd:function(t,e){var n=this;this.formOptions.saveLoading=!0,setTimeout((function(){console.log(t),r({name:t.name}).then((function(t){console.log(t,"success")})).catch((function(t){return console.log(t,"error")})),n.$message({message:"保存成功",type:"success"}),e({address:"我是通过done事件传入的数据！"}),s({item:"",page:1,size:20}).then((function(t){n.data=t.data,n.pagination.total=t.count,console.log(t,"success")})).catch((function(t){return console.log(t,"error")})),n.formOptions.saveLoading=!1}),300)},handleDialogCancel:function(t){this.$message({message:"取消保存",type:"warning"}),t()}},mounted:function(){var t=this;s({item:"",page:1,size:20}).then((function(e){t.data=e.data,t.pagination.total=e.count,console.log(e,"success")})).catch((function(t){return console.log(t,"error")}))}},u=l,d=(n("2f937"),n("2877")),g=function(t){t.options.__source="src/views/pages/sensitive/index.vue"},h=g,p=Object(d["a"])(u,o,a,!1,null,null,null);"function"===typeof h&&h(p);e["default"]=p.exports},"5ded":function(t,e,n){"use strict";var o=n("23e7"),a=n("d039"),i=n("8418"),s=a((function(){function t(){}return!(Array.of.call(t)instanceof t)}));o({target:"Array",stat:!0,forced:s},{of:function(){var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);while(e>t)i(n,t,arguments[t++]);return n.length=e,n}})},ef91:function(t,e,n){}}]);